'''В файле содержится последовательность целых чисел. Элементы последовательности могут принимать целые значения от 
−10 000 до 10 000 включительно. Определите и запишите в ответе сначала количество пар элементов последовательности, 
в которых хотя бы одно число делится на 3, затем максимальную из сумм элементов таких пар. 
В данной задаче под парой подразумевается два идущих подряд элемента последовательности. 
Например, для последовательности из пяти элементов: 6; 2; 9; -3; 6 — ответ 4 11.



6 2
2 9
...
-3 6

'''

f = open('17.txt').readlines()

a = [int(i) for i in f]
c = 0
m = 0

for i in range(len(a)-1):
    x1 = a[i]
    x2 = a[i+1]
    if x1%3 == 0 or x2%3 == 0:
        c += 1
        m = max(m, x1+x2)
print(c, m)



'''Файл содержит последовательность неотрицательных целых чисел, не превышающих 10 000. 
Назовём парой два идущих подряд элемента последовательности.
Определите количество пар, в которых один из двух элементов делится на 3, 
а другой меньше среднего арифметического всех чётных элементов последовательности. 
В ответе запишите два числа: сначала количество найденных пар, а затем  — максимальную сумму элементов таких пар.

Например, в последовательности (1 3 8 9 4) есть две подходящие пары: (1 3) и (9 4), в ответе для этой последовательности надо записать числа 2 и 13.

6

(9, 4)

9%3 and 9 > 6
4!%3 and 4 < 6


'''

f = open('17.txt').readlines()

a = [int(i) for i in f]
c = 0
m = 0
s_sr = 0
c_sr = 0

for i in a:
    if i%2 == 0:
        s_sr += i
        c_sr += 1

sr = s_sr / c_sr

for i in range(len(a)-1):
    x1 = a[i]
    x2 = a[i+1]
    if (x1%3 == 0 and  x2 < sr) or (x2%3 == 0 and  x1 < sr):
        c += 1
        m = max(m, x1+x2)
print(c, m)





'''Файл содержит последовательность целых чисел, по модулю не превышающих 10 000. Назовём парой два идущих подряд элемента последовательности.

Определите количество таких пар, в которых запись ровно одного элемента заканчивается цифрой 6, а сумма квадратов элементов пары меньше, 
чем квадрат наименьшего из элементов последовательности, запись которых заканчивается цифрой 6. В ответе запишите два числа: 
сначала количество найденных пар, затем максимальную сумму квадратов элементов этих пар.
                         i
[10, 123, 435, 12, 564, -43, 76]
'''
f= open('17.txt').readlines()
a= [int(i) for i in f]
m = 0
c = 0
mn= 10**10

for i in a:
    if abs(i) % 10 == 6:
        mn = min(mn, i)

mn = mn**2

for i in range (len(a)-1):
    x= abs(a[i])
    y= abs(a[i+1])
    if (x%10==6) + (y%10==6) == 1:
        if (x**2+y**2) < mn:
            c += 1
            m = max(x**2+y**2, m)
print(c,m)
            
            


'''Файл содержит последовательность неотрицательных целых чисел, не превышающих 10 000. 
Назовём тройкой три идущих подряд элемента последовательности. 
Определите количество троек чисел таких, которые могут являться сторонами прямоугольного треугольника. 
В ответе запишите два числа: сначала количество найденных троек, а затем  — максимальную сумму элементов таких троек. 
Если таких троек не найдётся — следует вывести 0 0.
                         i
[10, 123, 435, 12, 564, -43, 76]
'''
f= open('17.txt').readlines()
a= [int(i) for i in f]
m = 0
c = 0

for i in range (len(a)-2):
    z= (a[i])
    o= (a[i+1])
    v= (a[i+2])
    mas = [z, o, v]
    mas.sort()
    if mas[2]**2==mas[0]**2+mas[1]**2:
        c+=1
        m = max(m, sum(mas))
print(c,m)
            
'''В файле содержится последовательность из 10 000 целых положительных чисел. Каждое число не превышает 10 000. 
Определите и запишите в ответе сначала количество пар элементов последовательности, 
у которых разность элементов кратна 36 и хотя бы один из элементов кратен 13, затем максимальную из разностей элементов таких пар. 
В данной задаче под парой подразумевается два различных элемента последовательности. Порядок элементов в паре не важен.

  i    j
[10, 123, 435, 12, 564, -3, 647]
'''
f= open('17.txt').readlines()
a= [int(i) for i in f]
m = 0
c = 0

for i in range (len(a)):
    for j in range (i+1,len(a)):
        z = a[i]
        r = a[j]
        # ...
        
print(c,m)





'''Файл содержит последовательность натуральных чисел, не превышающих 100 000. Назовём тройкой три идущих подряд элемента последовательности.

Определите количество троек, для которых выполняются следующие условия:

— в тройке есть четырёхзначные числа, но не все числа в тройке четырёхзначные;
— в тройке больше чисел, кратных 5, чем чисел, кратных 3;
— сумма элементов тройки больше максимального элемента последовательности, запись которого заканчивается на 832.
(Гарантируется, что в последовательности есть хотя бы один элемент, запись которого заканчивается на 832.)

В ответе запишите два числа: сначала количество найденных троек, затем максимальную величину суммы элементов этих троек.

  i    j
[10, 123, 435, 12, 564, -3, 647]

int - 1000<=x<=9999
str - len(x) == 4

59 198654.
'''

f = open('17.txt').readlines()
a = [int(i) for i in f]
a832 = max([x for x in a if abs(x) % 1000 == 832])
m = []
c = 0

for i in range (len(a)-2):
    mas = [a[i],a[i+1],a[i+2]]
    if 0 < ((1000<=mas[0]<=9999) + (1000<=mas[1]<=9999) + (1000<=mas[2]<=9999)) < 3:
        kr3 = [j for j in mas if j%3==0]
        kr5 = [j for j in mas if j%5==0]
        if len(kr5)>len(kr3):
            if a832<sum(mas):
                c+=1
                m.append(sum(mas))

print(c, max(m))





'''Файл содержит последовательность натуральных чисел, не превышающих 100 000. Назовём четвёркой четыре идущих подряд элемента последовательности.
Определите количество четвёрок, для которых выполняются следующие условия:

— в четвёрке есть хотя бы одно пятизначное число и хотя бы два не пятизначных;
— в четвёрке меньше чисел, кратных 3, чем чисел, кратных 7;
— сумма элементов четвёрки больше максимального элемента последовательности, запись которого заканчивается на 562, 
но меньше удвоенного значения этого элемента. Гарантируется, что в последовательности есть хотя бы один элемент, запись которого заканчивается на 562.

В ответе запишите два числа: сначала количество найденных четвёрок, затем максимальную величину суммы элементов этих четвёрок.


Ответ: 229 154334.
'''

f= open("17.txt").readlines()
a=[int(i) for i in f]
a562 = max([x for x in a if x % 1000 == 562])
c=0
mn=min(a)
m=0


for i in range(len(a)-3):
    x = [a[i],a[i+1],a[i+2],a[i+3]]
    if ((len(str(x[0]))>=5) or (len(str(x[1]))>=5) or (len(str(x[2]))>=5) or (len(str(x[3]))>=5)):
      if ((len(str(x[0]))!=5) + (len(str(x[1]))!=5) + (len(str(x[2]))!=5) + (len(str(x[3]))!=5)) >= 2:
         if ((x[0]%3 == 0) + (x[1]%3 == 0) + (x[2]%3 == 0) + (x[3]%3 == 0)) < ((x[0]%7 == 0) + (x[1]%7 == 0) + (x[2]%7 == 0) + (x[3]%7 == 0)):
            if sum(x) > a562 and sum(x) < 2*a562:
              c+=1
              m=max(sum(x), m)

print(c,m)
        
