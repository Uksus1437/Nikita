; неудачный/победитель - or
; любой - and

                                  ; ПРИ НЕУДАЧНОМ ХОДЕ ПЕТИ
                                  ;       ОДНА КУЧА


'''Два игрока, Петя и Ваня, играют в следующую игру. Перед игроками лежит куча камней. Игроки ходят по очереди, первый ход делает Петя. За один ход игрок может добавить в кучу один или четыре камня либо увеличить количество камней в куче в пять раз.  Игра завершается в тот момент, когда количество камней в куче становится не менее 68.

Победителем считается игрок, сделавший последний ход, т. е. первым получивший кучу, в которой будет 68 или больше камней. В начальный момент в куче было S камней; 1 ≤ S ≤ 67.

Известно, что Ваня выиграл своим первым ходом после неудачного первого хода Пети. Укажите минимальное значение S, когда такая ситуация возможна.

1  П
2  В    h
3  П
4  В
'''


def f(s, h):
  if s >= 68 and h == 2:
    return True
  if s < 68 and h == 2:
    return False
  if s >= 68 and h == 1:
    return False
  if (h+1)%2 == 0:
    return f(s+1, h+1) or f(s+4, h+1) or f(s*5, h+1)
  else:
    return f(s+1, h+1) or f(s+4, h+1) or f(s*5, h+1)


for s in range(1, 68):
  if f(s, 0):
    print(s)




                                    ;  ПРИ ЛЮБОМ ХОДЕ ПЕТИ

'''P-02 (демо-2023). Два игрока, Петя и Ваня, играют в следующую игру. Перед игроками лежит
куча камней. Игроки ходят по очереди, первый ход делает Петя. За один ход игрок может добавить в кучу один камень или увеличить количество камней в куче в два раза. 
Игра завершается в тот момент, когда количество камней в куче становится не менее 129.
В начальный момент в куче было S камней, 1 ≤ S ≤ 128.

Задание 19. 
Укажите такое значение S, при котором Петя не может выиграть за один ход, но при любом ходе Пети Ваня может выиграть своим первым ходом.
'''


def f(s, h):
  if s >= 129 and h == 2:
    return True
  if s < 129 and h == 2:
    return False
  if s >= 129 and h == 1:
    return False
  if (h+1)%2 == 0:
    return f(s+1, h+1) or f(s*2, h+1)    #Победитель всегда ходит через or
  else:
    return f(s+1, h+1) and f(s*2, h+1)


for s in range(1,129):
  if f(s, 0):
    print(s)


'''20
Два игрока, Петя и Ваня, играют в следующую игру. Перед игроками лежит куча камней. Игроки ходят по очереди, первый ход делает Петя. 
За один ход игрок может добавить в кучу один или четыре камня либо увеличить количество камней в куче в пять раз.  
Игра завершается в тот момент, когда количество камней в куче становится не менее 68.

Победителем считается игрок, сделавший последний ход, т. е. первым получивший кучу, в которой будет 68 или больше камней. 
В начальный момент в куче было S камней; 1 ≤ S ≤ 67.

Найдите два таких значения S, при которых у Пети есть выигрышная стратегия, причём одновременно выполняются два условия:

— Петя не может выиграть за один ход;
— Петя может выиграть своим вторым ходом независимо от того, как будет ходить Ваня.

Найденные значения запишите в ответе в порядке возрастания без разделительных знаков.

1  П
2  В    h
3  П
4  В
'''


def f(s, h):
  if s >= 68 and h == 3:
    return True
  if s < 68 and h == 3:
    return False
  if s >= 68 and h <= 2:
    return False
  if (h+1)%2 == 1:
    return f(s+1, h+1) or f(s+4, h+1) or f(s*5, h+1)    #Победитель всегда ходит через or
  else: 
    return f(s+1, h+1) and f(s+4, h+1) and f(s*5, h+1)      





'''21
Два игрока, Петя и Ваня, играют в следующую игру. Перед игроками лежит куча камней. Игроки ходят по очереди, первый ход делает Петя. 
За один ход игрок может добавить в кучу один или четыре камня либо увеличить количество камней в куче в пять раз.  
Игра завершается в тот момент, когда количество камней в куче становится не менее 68.

Победителем считается игрок, сделавший последний ход, т. е. первым получивший кучу, в которой будет 68 или больше камней. 
В начальный момент в куче было S камней; 1 ≤ S ≤ 67.


Найдите минимальное значение S, при котором одновременно выполняются два условия:

— у Вани есть выигрышная стратегия, позволяющая ему выиграть первым или вторым ходом при любой игре Пети;
— у Вани нет стратегии, которая позволит ему гарантированно выиграть первым ходом.

1  П
2  В    h
3  П
4  В
'''


def f(s, h):
  if s >= 68 and (h == 2 or h == 4):
    return True
  if s < 68 and h == 4:
    return False
  if s >= 68 and (h== 1 or h == 3):
    return False
  if (h+1)%2 == 0:
    return f(s+1, h+1) or f(s+4, h+1) or f(s*5, h+1)      #Победитель всегда ходит через or
  else: 
    return f(s+1, h+1) and f(s+4, h+1) and f(s*5, h+1)    


for s in range(1, 68):
  if f(s, 0):
    print(s)



                                   ДВЕ КУЧИ


'''Два игрока, Петя и Ваня, играют в следующую игру. Перед игроками лежат две кучи камней. Игроки ходят по очереди, первый ход делает Петя. 
За один ход игрок может добавить в одну из куч (по своему выбору) один камень или увеличить количество камней в куче в два раза.

Игра завершается в тот момент, когда суммарное количество камней в кучах становится не менее 77. Победителем считается игрок, сделавший последний ход, 
т. е. первым получивший такую позицию, при которой в кучах будет 77 или больше камней.

В начальный момент в первой куче было семь камней, во второй куче — S камней; 1 ≤ S ≤ 69.

Известно, что Ваня выиграл своим первым ходом после неудачного первого хода Пети. Укажите минимальное значение S, когда такая ситуация возможна'''



def f(s1, s2, h):
  if s1 + s2 >= 77 and h == 2:
    return True
  if s1 + s2 >= 77 and h!=2:
    return False
  if s1 + s2 < 77 and h==2:
    return False
  if (h+1)%2 == 0:
    return f(s1+1,s2,h+1) or f(s1,s2+1,h+1) or f(s1*2,s2,h+1) or f(s1,s2*2,h+1)
  else:
    return f(s1+1,s2,h+1) or f(s1,s2+1,h+1) or f(s1*2,s2,h+1) or f(s1,s2*2,h+1)

for s2 in range(1,70):
  if f(7,s2,0):
    print(s2)


'''Найдите два таких значения S, при которых у Пети есть выигрышная стратегия, причём одновременно выполняются два условия:

— Петя не может выиграть за один ход;
— Петя может выиграть своим вторым ходом независимо от того, как будет ходить Ваня.

Найденные значения запишите в ответе в порядке возрастания без разделительных знаков.'''



def f(s1, s2, h):
  if s1 + s2 >= 77 and h == 3:
    return True
  if s1 + s2 >= 77 and h<3:
    return False
  if s1 + s2 < 77 and h==3:
    return False
  if (h+1)%2!=0:
    return f(s1+1,s2,h+1) or f(s1,s2+1,h+1) or f(s1*2,s2,h+1) or f(s1,s2*2,h+1)
  else:
    return f(s1+1,s2,h+1) and f(s1,s2+1,h+1) and f(s1*2,s2,h+1) and f(s1,s2*2,h+1)

for s2 in range(1,70):
  if f(7,s2,0):
    print(s2)




'''Найдите минимальное значение S, при котором одновременно выполняются два условия:

— у Вани есть выигрышная стратегия, позволяющая ему выиграть первым или вторым ходом при любой игре Пети;
— у Вани нет стратегии, которая позволит ему гарантированно выиграть первым ходом.'''



def f(s1, s2, h):
  if s1 + s2 >= 77 and (h == 2 or h == 4):
    return True
  if s1 + s2 >= 77 and h%2!=0:
    return False
  if s1 + s2 < 77 and h==4:
    return False
  if (h+1)%2==0 and (h== 1 or h == 3):
    return f(s1+1,s2,h+1) or f(s1,s2+1,h+1) or f(s1*2,s2,h+1) or f(s1,s2*2,h+1)
  else:
    return f(s1+1,s2,h+1) and f(s1,s2+1,h+1) and f(s1*2,s2,h+1) and f(s1,s2*2,h+1)

for s2 in range(1,70):
  if f(7,s2,0):
    print(s2)